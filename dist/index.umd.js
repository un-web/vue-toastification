(function(p,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(p=typeof globalThis!="undefined"?globalThis:p||self,t(p.VueToastification={},p.Vue))})(this,function(p,t){"use strict";var Ye=Object.defineProperty;var Ze=(p,t,L)=>t in p?Ye(p,t,{enumerable:!0,configurable:!0,writable:!0,value:L}):p[t]=L;var j=(p,t,L)=>(Ze(p,typeof t!="symbol"?t+"":t,L),L);var L="",B=(e=>(e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default",e))(B||{}),I=(e=>(e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right",e))(I||{}),_=(e=>(e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults",e))(_||{});const E="Vue-Toastification",P=e=>typeof e=="function",S=e=>typeof e=="string",H=e=>S(e)&&e.trim().length>0,ee=e=>typeof e=="number",A=e=>typeof e=="undefined",D=e=>typeof e=="object"&&e!==null,te=e=>w(e,"tag")&&H(e.tag),U=e=>window.TouchEvent&&e instanceof TouchEvent,V=e=>w(e,"component")&&z(e.component),ne=e=>P(e)||D(e),z=e=>!A(e)&&(S(e)||ne(e)||V(e)),oe=e=>D(e)&&["height","width","right","left","top","bottom"].every(n=>ee(e[n])),w=(e,n)=>(D(e)||P(e))&&n in e,O=(e,n,o)=>w(e,n)?e[n]:o,se=(e=>()=>e++)(0);function G(e){return U(e)?e.targetTouches[0].clientX:e.clientX}function X(e){return U(e)?e.targetTouches[0].clientY:e.clientY}const ae=e=>{A(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},$=e=>V(e)?$(e.component):te(e)?t.defineComponent({render(){return e}}):typeof e=="string"?e:t.toRaw(t.unref(e)),ce=e=>{if(typeof e=="string")return e;const n=w(e,"props")&&D(e.props)?e.props:{},o=w(e,"listeners")&&D(e.listeners)?e.listeners:{};return{component:$(e),props:n,listeners:o}},re=()=>typeof window!="undefined",W=e=>{const{position:n,container:o,newestOnTop:s,maxToasts:c,transition:l,toastDefaults:a,eventBus:i,filterBeforeCreate:f,filterToasts:d,containerClassName:m,...T}=e,h={position:n,container:o,newestOnTop:s,maxToasts:c,transition:l,toastDefaults:a,eventBus:i,filterBeforeCreate:f,filterToasts:d,containerClassName:m,defaultToastProps:T};return Object.keys(h).forEach(k=>typeof h[k]=="undefined"&&delete h[k]),h};class R{constructor(){j(this,"allHandlers",{})}getHandlers(n){return this.allHandlers[n]||[]}on(n,o){const s=this.getHandlers(n);s.push(o),this.allHandlers[n]=s}off(n,o){const s=this.getHandlers(n);s.splice(s.indexOf(o)>>>0,1)}emit(n,o){this.getHandlers(n).forEach(c=>c(o))}}const le=e=>["on","off","emit"].every(n=>w(e,n)&&P(e[n])),q=new R,J=()=>new R,K=()=>{},Q=e=>()=>e,u={id:0,accessibility:()=>({toastRole:"alert",closeButtonLabel:"close"}),bodyClassName:()=>[],closeButton:()=>"button",closeButtonClassName:()=>[],closeOnClick:!0,draggable:!0,draggablePercent:.6,eventBus:J,hideProgressBar:!1,icon:()=>!0,pauseOnFocusLoss:!0,pauseOnHover:!0,position:I.TOP_RIGHT,rtl:!1,showCloseButtonOnHover:!1,timeout:5e3,toastClassName:()=>[],onClick:K,onClose:K,type:B.DEFAULT},v={position:u.position,container:()=>document.body,containerClassName:()=>[],eventBus:J,filterBeforeCreate:Q(e=>e),filterToasts:Q(e=>e),maxToasts:20,newestOnTop:!0,toastDefaults:()=>({}),transition:`${E}__bounce`,defaultToastProps:()=>({})},ie=(e,n)=>{const{draggablePercent:o,draggable:s}=t.toRefs(n),c=t.computed(()=>e.value?e.value.getBoundingClientRect():void 0),l=t.ref(!1),a=t.ref(!1),i=t.ref({x:0,y:0}),f=t.ref(0),d=t.computed(()=>a.value?i.value.x-f.value:0),m=t.ref(!1),T=t.computed(()=>oe(c.value)?(c.value.right-c.value.left)*o.value:0);t.watch([e,f,i,d,T,a],()=>{e.value&&(e.value.style.transform="translateX(0px)",e.value.style.opacity="1",f.value===i.value.x?e.value.style.transition="":a.value?(e.value.style.transform=`translateX(${d.value}px)`,e.value.style.opacity=`${1-Math.abs(d.value/T.value)}`):e.value.style.transition="transform 0.2s, opacity 0.2s")});const h=x=>{l.value=!0,i.value={x:G(x),y:X(x)},f.value=i.value.x},b=x=>{l.value&&(a.value=!0,x.preventDefault(),i.value={x:G(x),y:X(x)})},k=()=>{l.value=!1,a.value&&(Math.abs(d.value)>=T.value?m.value=!0:setTimeout(()=>{a.value=!1}))};return t.onMounted(()=>{s.value&&e.value&&(e.value.addEventListener("touchstart",h,{passive:!0}),e.value.addEventListener("mousedown",h),addEventListener("touchmove",b,{passive:!1}),addEventListener("mousemove",b),addEventListener("touchend",k),addEventListener("mouseup",k))}),t.onBeforeUnmount(()=>{s.value&&e.value&&(e.value.removeEventListener("touchstart",h),e.value.removeEventListener("mousedown",h),removeEventListener("touchmove",b),removeEventListener("mousemove",b),removeEventListener("touchend",k),removeEventListener("mouseup",k))}),{dragComplete:m,beingDragged:a}},ue=(e,n)=>{const{pauseOnFocusLoss:o}=t.toRefs(n),s=t.ref(!0),c=()=>s.value=!0,l=()=>s.value=!1;return t.onMounted(()=>{e.value&&o.value&&(addEventListener("blur",l),addEventListener("focus",c))}),t.onBeforeUnmount(()=>{e.value&&o.value&&(removeEventListener("blur",l),removeEventListener("focus",c))}),{focused:s}},de=(e,n)=>{const{pauseOnHover:o}=t.toRefs(n),s=t.ref(!1),c=()=>s.value=!0,l=()=>s.value=!1;return t.onMounted(()=>{e.value&&o.value&&(e.value.addEventListener("mouseenter",c),e.value.addEventListener("mouseleave",l))}),t.onBeforeUnmount(()=>{e.value&&o.value&&(e.value.removeEventListener("mouseenter",c),e.value.removeEventListener("mouseleave",l))}),{hovering:s}},fe=t.createTextVNode(" \xD7 "),me=t.defineComponent({__name:"VtCloseButton",props:{component:{default:u.closeButton},classNames:{default:u.closeButtonClassName},showOnHover:{type:Boolean,default:u.showCloseButtonOnHover},ariaLabel:{default:u.accessibility().closeButtonLabel}},setup(e){const n=e,o=t.computed(()=>n.component!==!1?$(n.component):"button"),s=t.computed(()=>{const c=[`${E}__close-button`];return n.showOnHover&&c.push("show-on-hover"),c.concat(n.classNames)});return(c,l)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(o)),t.mergeProps({"aria-label":e.ariaLabel,class:t.unref(s)},c.$attrs),{default:t.withCtx(()=>[fe]),_:1},16,["aria-label","class"]))}});var M=(e,n)=>{const o=e.__vccOpts||e;for(const[s,c]of n)o[s]=c;return o};const pe={},he={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ge=[t.createElementVNode("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];function Ce(e,n){return t.openBlock(),t.createElementBlock("svg",he,ge)}var Be=M(pe,[["render",Ce]]);const _e={},Te={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ye=[t.createElementVNode("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1)];function ve(e,n){return t.openBlock(),t.createElementBlock("svg",Te,ye)}var Y=M(_e,[["render",ve]]);const Ee={},ke={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},we=[t.createElementVNode("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1)];function be(e,n){return t.openBlock(),t.createElementBlock("svg",ke,we)}var xe=M(Ee,[["render",be]]);const Le={},De={"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Oe=[t.createElementVNode("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1)];function $e(e,n){return t.openBlock(),t.createElementBlock("svg",De,Oe)}var Ne=M(Le,[["render",$e]]);const Ie=t.defineComponent({__name:"VtIcon",props:{type:{default:B.DEFAULT},customIcon:{default:u.icon}},setup(e){const n=e,o=(m,T="")=>H(m)?m.trim():T,s=t.computed(()=>w(n.customIcon,"iconChildren")?o(n.customIcon.iconChildren):""),c=t.computed(()=>S(n.customIcon)?o(n.customIcon):w(n.customIcon,"iconClass")?o(n.customIcon.iconClass):""),l=t.computed(()=>w(n.customIcon,"iconTag")?o(n.customIcon.iconTag,"i"):"i"),a=t.computed(()=>c.value.length>0),i=t.computed(()=>a.value?l.value:z(n.customIcon)?$(n.customIcon):f.value),f=t.computed(()=>({[B.DEFAULT]:Y,[B.INFO]:Y,[B.SUCCESS]:xe,[B.ERROR]:Be,[B.WARNING]:Ne})[n.type]),d=t.computed(()=>{const m=[`${E}__icon`];return a.value?m.concat(c.value):m});return(m,T)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(i)),{class:t.normalizeClass(t.unref(d))},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(t.unref(s)),1)]),_:1},8,["class"]))}}),Pe=t.defineComponent({__name:"VtProgressBar",props:{timeout:{default:u.timeout},hideProgressBar:{default:u.hideProgressBar},isRunning:{type:Boolean,default:!1}},emits:["close-toast"],setup(e,{emit:n}){const o=e,s=t.ref(),c=t.ref(!0),l=t.computed(()=>({animationDuration:`${o.timeout}ms`,animationPlayState:o.isRunning?"running":"paused",opacity:o.hideProgressBar?0:1})),a=t.computed(()=>c.value?`${E}__progress-bar`:"");t.watch(()=>o.timeout,()=>{c.value=!1,t.nextTick(()=>c.value=!0)});const i=()=>n("close-toast");return t.onMounted(()=>{s.value&&s.value.addEventListener("animationend",i)}),t.onBeforeUnmount(()=>{s.value&&s.value.removeEventListener("animationend",i)}),(f,d)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:s,style:t.normalizeStyle(t.unref(l)),class:t.normalizeClass(t.unref(a))},null,6))}}),Se=["role"],Ae=t.defineComponent({__name:"VtToast",props:{content:null,id:{default:0},accessibility:{default:u.accessibility},bodyClassName:{default:u.bodyClassName},closeButton:{default:u.closeButton},closeButtonClassName:{default:u.closeButtonClassName},closeOnClick:{default:u.closeOnClick},draggable:{default:u.draggable},draggablePercent:{default:u.draggablePercent},eventBus:{default:u.eventBus},hideProgressBar:{default:u.hideProgressBar},icon:{default:u.icon},onClick:{default:()=>{}},onClose:{default:()=>{}},pauseOnFocusLoss:{default:u.pauseOnFocusLoss},pauseOnHover:{default:u.pauseOnHover},position:{default:u.position},rtl:{default:u.rtl},showCloseButtonOnHover:{default:u.showCloseButtonOnHover},timeout:{default:u.timeout},toastClassName:{default:u.toastClassName},type:{default:B.DEFAULT}},setup(e){const n=e,o=t.ref(),{hovering:s}=de(o,n),{focused:c}=ue(o,n),{beingDragged:l,dragComplete:a}=ie(o,n),i=t.computed(()=>!s.value&&c.value&&!l.value),f=()=>{n.eventBus.emit(_.DISMISS,n.id)},d=()=>{l.value||(n.onClick&&n.onClick(f),n.closeOnClick&&f())};t.watch(a,h=>{h&&t.nextTick(()=>f())});const m=t.computed(()=>{const h=[`${E}__toast`,`${E}__toast--${n.type}`,`${n.position}`].concat(n.toastClassName);return a.value&&h.push("disable-transition"),n.rtl&&h.push(`${E}__toast--rtl`),h}),T=t.computed(()=>[`${E}__toast-${S(n.content)?"body":"component-body"}`].concat(n.bodyClassName));return(h,b)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:o,class:t.normalizeClass(t.unref(m)),onClick:d},[e.icon?(t.openBlock(),t.createBlock(Ie,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):t.createCommentVNode("",!0),t.createElementVNode("div",{role:e.accessibility.toastRole||"alert",class:t.normalizeClass(t.unref(T))},[typeof e.content=="string"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(e.content),1)],64)):(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref($)(e.content)),t.mergeProps({key:1,"toast-id":e.id},t.unref(O)(e.content,"props",{}),t.toHandlers(t.unref(O)(e.content,"listeners",{})),{onCloseToast:f}),null,16,["toast-id"]))],10,Se),e.closeButton?(t.openBlock(),t.createBlock(me,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:t.withModifiers(f,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):t.createCommentVNode("",!0),e.timeout?(t.openBlock(),t.createBlock(Pe,{key:2,"is-running":t.unref(i),"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:f},null,8,["is-running","hide-progress-bar","timeout"])):t.createCommentVNode("",!0)],2))}}),Re=t.defineComponent({__name:"VtTransition",props:{transition:{default:v.transition}},emits:["leave"],setup(e){const n=o=>{o instanceof HTMLElement&&(o.style.left=o.offsetLeft+"px",o.style.top=o.offsetTop+"px",o.style.width=getComputedStyle(o).width,o.style.position="absolute")};return(o,s)=>(t.openBlock(),t.createBlock(t.TransitionGroup,{type:"animation",tag:"div","enter-active-class":t.unref(O)(e.transition,"enter",`${e.transition}-enter-active`),"move-class":t.unref(O)(e.transition,"move",`${e.transition}-move`),"leave-active-class":t.unref(O)(e.transition,"leave",`${e.transition}-leave-active`),onLeave:n},{default:t.withCtx(()=>[t.renderSlot(o.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class"]))}}),Me={devtools:{hide:!0}},Fe=t.defineComponent({...Me,__name:"VtToastContainer",props:{position:{default:v.position},container:{default:v.container},containerClassName:{default:v.containerClassName},defaultToastProps:{default:()=>({})},eventBus:{default:v.eventBus},filterBeforeCreate:{default:v.filterBeforeCreate},filterToasts:{default:v.filterToasts},maxToasts:{default:v.maxToasts},newestOnTop:{default:v.newestOnTop},toastDefaults:{default:v.toastDefaults},transition:{default:v.transition}},setup(e){const n=e,o=Object.values(I),s=r=>o.reduce((g,C)=>({...g,[C]:r(C)}),{}),c=t.ref(),l=t.reactive({}),a=t.computed(()=>({...n,...l})),i=t.computed(()=>({eventBus:a.value.eventBus,position:a.value.position,...a.value.defaultToastProps})),f=t.computed(()=>a.value.toastDefaults),d=t.reactive({}),m=t.computed(()=>Object.values(d)),T=t.computed(()=>{const r=a.value.filterToasts;return r(m.value)}),h=async r=>{P(r)&&(r=await r()),c.value&&(ae(c.value),r.appendChild(c.value))},b=r=>{A(r.id)||(d[r.id]=r)},k=r=>{r.content=ce(r.content);const g=r.type&&f.value[r.type]||{};let C={...i.value,...g,...r};const y=a.value.filterBeforeCreate;C=y(C,m.value),C&&b(C)},x=r=>{const g=d[r];g&&g.onClose&&g.onClose(),delete d[r]},We=()=>{Object.keys(d).forEach(x)},qe=t.computed(()=>s(g=>{const C=T.value.filter(y=>y.position===g).slice(0,a.value.maxToasts);return a.value.newestOnTop?C.reverse():C})),Je=r=>{r.container&&h(r.container),Object.assign(l,r)},Ke=r=>{const{id:g,create:C,options:y}=r;d[g]?(y.timeout&&y.timeout===d[g].timeout&&y.timeout++,b({...d[g],...y})):C&&k({id:g,...y})},Qe=t.computed(()=>s(g=>[`${E}__container`,g].concat(a.value.containerClassName)));return t.onBeforeMount(()=>{n.eventBus.on(_.ADD,k),n.eventBus.on(_.CLEAR,We),n.eventBus.on(_.DISMISS,x),n.eventBus.on(_.UPDATE,Ke),n.eventBus.on(_.UPDATE_DEFAULTS,Je)}),t.onMounted(()=>{const r=a.value.container;r&&h(r)}),(r,g)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"el",ref:c},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(o),C=>(t.openBlock(),t.createElementBlock("div",{key:C},[t.createVNode(Re,{transition:t.unref(a).transition,class:t.normalizeClass(t.unref(Qe)[C])},{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(qe)[C],y=>(t.openBlock(),t.createBlock(Ae,t.mergeProps({key:y.id},y),null,16))),128))]),_:2},1032,["transition","class"])]))),128))],512))}});function He(e){const{shareAppContext:n,onMounted:o,...s}=e,c=W(s),l=t.createApp(Fe,{...c});if(n&&n!==!0){const i=n;l._context.components=i._context.components,l._context.directives=i._context.directives,l._context.mixins=i._context.mixins,l._context.provides=i._context.provides,l.config.globalProperties=i.config.globalProperties}const a=l.mount(document.createElement("div"));A(o)||o(a,l)}const Ue=e=>{const n=a=>(f,d)=>{const m=Object.assign({id:se(),type:a,content:f},d);return e.emit(_.ADD,m),m.id},o=a=>e.emit(_.DISMISS,a),s=()=>e.emit(_.CLEAR,void 0),c=a=>e.emit(_.UPDATE_DEFAULTS,W(a)),l=(a,i,f)=>{const{content:d,options:m}=i;e.emit(_.UPDATE,{id:a,create:f||!1,options:{...m,content:d}})};return Object.assign(n(B.DEFAULT),{success:n(B.SUCCESS),info:n(B.INFO),warning:n(B.WARNING),error:n(B.ERROR),dismiss:o,clear:s,update:l,updateDefaults:c})},Z=(e={},n=!0)=>{const o={...e},s=o.eventBus=o.eventBus||new R;return n&&t.nextTick(()=>He(o)),Ue(s)},F=Symbol("VueToastification"),Ve=()=>{const e=()=>console.warn(`[${E}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})},N=e=>re()?le(e)?Z({eventBus:e},!1):Z(e,!0):Ve(),ze=e=>{if(t.getCurrentInstance()){const n=N(e);t.provide(F,n)}},Ge=e=>{if(e)return N(e);const n=t.getCurrentInstance()?t.inject(F,void 0):void 0;return n||N(q)},Xe=(e,n)=>{(n==null?void 0:n.shareAppContext)===!0&&(n.shareAppContext=e);const o=N({eventBus:q,...n});e.provide(F,o)};p.EventBus=R,p.POSITION=I,p.TYPE=B,p.createToastInstance=N,p.default=Xe,p.provideToast=ze,p.useToast=Ge,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
